{% extends "base.html" %}

{% block title %}System Info - Dokku Dashboard{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- Header -->
    <div class="flex items-center justify-between">
        <h1 class="text-3xl font-bold text-white">System Information</h1>
        <button 
            onclick="window.location.reload()" 
            class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center space-x-2"
        >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
            </svg>
            <span>Refresh</span>
        </button>
    </div>

    <!-- Version Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Dokku Version -->
        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <div class="w-12 h-12 rounded-lg bg-indigo-600/20 flex items-center justify-center">
                    <svg class="w-7 h-7 text-indigo-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                </div>
                <div>
                    <p class="text-slate-400 text-sm">Dokku</p>
                    <p class="text-white text-lg font-semibold">{{ system.dokku_version }}</p>
                </div>
            </div>
        </div>

        <!-- Docker Version -->
        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <div class="w-12 h-12 rounded-lg bg-blue-600/20 flex items-center justify-center">
                    <svg class="w-7 h-7 text-blue-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338 0-.676.03-1.01.087-.239-1.316-.988-2.515-2.232-3.577l-.373-.293-.264.39c-.395.594-.604 1.365-.604 2.15 0 .295.017.59.05.876.075.476.268.95.553 1.375a3.937 3.937 0 01-1.615.423H.784c-.175 0-.317.144-.317.319 0 1.408.221 2.81.667 4.148.476 1.423 1.163 2.646 2.03 3.652.92 1.067 2.073 1.84 3.44 2.31a12.25 12.25 0 004.78.948c.834 0 1.66-.063 2.455-.185a13.25 13.25 0 003.624-1.094 11.19 11.19 0 002.91-1.986c1.48-1.415 2.502-3.172 3.044-5.227h.263c1.213 0 1.923-.508 2.312-.88a3.46 3.46 0 00.648-.817l.134-.259-.528-.37z"/>
                    </svg>
                </div>
                <div>
                    <p class="text-slate-400 text-sm">Docker</p>
                    <p class="text-white text-lg font-semibold">{{ system.docker_version }}</p>
                </div>
            </div>
        </div>

        <!-- Apps Count -->
        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <div class="w-12 h-12 rounded-lg bg-green-600/20 flex items-center justify-center">
                    <svg class="w-7 h-7 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                    </svg>
                </div>
                <div>
                    <p class="text-slate-400 text-sm">Total Apps</p>
                    <p class="text-white text-lg font-semibold">{{ system.apps }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Resources -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Disk Usage -->
        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
            <h2 class="text-xl font-bold text-white mb-4 flex items-center">
                <svg class="w-6 h-6 mr-2 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"/>
                </svg>
                Disk Usage
            </h2>
            <div class="space-y-3">
                <div class="flex justify-between items-center">
                    <span class="text-slate-400">Total</span>
                    <span class="text-white font-semibold">{{ system.disk.size }}</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-slate-400">Used</span>
                    <span class="text-white font-semibold">{{ system.disk.used }}</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-slate-400">Available</span>
                    <span class="text-white font-semibold">{{ system.disk.available }}</span>
                </div>
                <div class="mt-4">
                    <div class="flex justify-between text-sm mb-1">
                        <span class="text-slate-400">Usage</span>
                        <span class="text-white">{{ system.disk.percent }}</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2">
                        <div class="bg-indigo-600 h-2 rounded-full" style="width: {{ system.disk.percent }}"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Memory Usage -->
        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
            <h2 class="text-xl font-bold text-white mb-4 flex items-center">
                <svg class="w-6 h-6 mr-2 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                </svg>
                Memory Usage
            </h2>
            <div class="space-y-3">
                <div class="flex justify-between items-center">
                    <span class="text-slate-400">Total</span>
                    <span class="text-white font-semibold">{{ system.memory.total }}</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-slate-400">Used</span>
                    <span class="text-white font-semibold">{{ system.memory.used }}</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-slate-400">Free</span>
                    <span class="text-white font-semibold">{{ system.memory.free }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Docker Stats -->
    <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
        <h2 class="text-xl font-bold text-white mb-4 flex items-center">
            <svg class="w-6 h-6 mr-2 text-indigo-400" fill="currentColor" viewBox="0 0 24 24">
                <path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185"/>
            </svg>
            Docker Resources
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-slate-700/50 rounded-lg p-4">
                <p class="text-slate-400 text-sm mb-1">Containers</p>
                <p class="text-white text-2xl font-bold">{{ system.containers }}</p>
            </div>
            <div class="bg-slate-700/50 rounded-lg p-4">
                <p class="text-slate-400 text-sm mb-1">Images</p>
                <p class="text-white text-2xl font-bold">{{ system.images }}</p>
            </div>
            <div class="bg-slate-700/50 rounded-lg p-4">
                <p class="text-slate-400 text-sm mb-1">Volumes</p>
                <p class="text-white text-2xl font-bold">{{ system.volumes }}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

