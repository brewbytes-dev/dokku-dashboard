<div id="app-{{ app.name }}" class="bg-slate-800 rounded-xl p-5 border border-slate-700 hover:border-slate-600 transition-colors">
    <div class="flex items-start justify-between">
        <div class="flex items-center space-x-3">
            <div class="w-10 h-10 rounded-lg bg-indigo-600/20 flex items-center justify-center">
                <span class="text-indigo-400 font-bold">{{ app.name[:2].upper() }}</span>
            </div>
            <div>
                <a href="/apps/{{ app.name }}" class="text-white font-medium hover:text-indigo-400 transition-colors">
                    {{ app.name }}
                </a>
                {% if app.web_url %}
                <a href="{{ app.web_url }}" target="_blank" class="text-slate-400 text-sm hover:text-slate-300 block">
                    {{ app.web_url | replace('https://', '') }}
                </a>
                {% endif %}
            </div>
        </div>
        
        <!-- Status Badge -->
        {% if app.status.value == 'running' %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-green-400/20 text-green-300 border border-green-400/40">
            <span class="w-1.5 h-1.5 rounded-full bg-green-300 mr-1.5 animate-pulse"></span>
            Running
        </span>
        {% elif app.status.value == 'stopped' %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-orange-400/20 text-orange-300 border border-orange-400/30">
            <span class="w-1.5 h-1.5 rounded-full bg-orange-300 mr-1.5"></span>
            Stopped
        </span>
        {% elif app.status.value == 'restarting' %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-blue-400/20 text-blue-300 border border-blue-400/40">
            <span class="w-1.5 h-1.5 rounded-full bg-blue-300 mr-1.5 animate-spin"></span>
            Restarting
        </span>
        {% elif app.status.value == 'starting' %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-cyan-400/20 text-cyan-300 border border-cyan-400/40">
            <span class="w-1.5 h-1.5 rounded-full bg-cyan-300 mr-1.5 animate-spin"></span>
            Starting
        </span>
        {% elif app.status.value == 'stopping' %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-yellow-400/20 text-yellow-300 border border-yellow-400/40">
            <span class="w-1.5 h-1.5 rounded-full bg-yellow-300 mr-1.5 animate-spin"></span>
            Stopping
        </span>
        {% elif app.status.value == 'crashed' %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-red-400/20 text-red-300 border border-red-400/40">
            <span class="w-1.5 h-1.5 rounded-full bg-red-300 mr-1.5"></span>
            Crashed
        </span>
        {% else %}
        <span class="inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold bg-slate-400/20 text-slate-300 border border-slate-400/30">
            <span class="w-1.5 h-1.5 rounded-full bg-slate-300 mr-1.5 animate-pulse"></span>
            {{ app.status.value|title }}
        </span>
        {% endif %}
    </div>

    <!-- Actions -->
    <div class="flex items-center justify-between mt-4 pt-4 border-t border-slate-700">
        <div class="flex items-center space-x-2">
            <button 
                hx-post="/apps/{{ app.name }}/restart"
                hx-target="#app-{{ app.name }}"
                hx-swap="outerHTML"
                class="text-amber-400 hover:text-amber-300 text-sm flex items-center"
            >
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                </svg>
                Restart
            </button>
            <span class="text-slate-600">|</span>
            <button 
                hx-post="/apps/{{ app.name }}/stop"
                hx-target="#app-{{ app.name }}"
                hx-swap="outerHTML"
                hx-confirm="Stop {{ app.name }}?"
                class="text-red-400 hover:text-red-300 text-sm"
            >
                Stop
            </button>
            <span class="text-slate-600">|</span>
            <button 
                hx-post="/apps/{{ app.name }}/start"
                hx-target="#app-{{ app.name }}"
                hx-swap="outerHTML"
                class="text-green-400 hover:text-green-300 text-sm"
            >
                Start
            </button>
        </div>
        <a href="/logs/{{ app.name }}" class="text-slate-400 hover:text-white text-sm">
            Logs â†’
        </a>
    </div>
</div>

